# 关系数据库的数据结构及其定义

- 关系
- 关系模式
- 关系数据库

## 关系

&emsp;&emsp;关系模型**只包含单一的数据结构---关系**。在用户看来，关系模型中的数据的逻辑结构就是一张二维表。

> 关系 ==> 关系模型 ==> 关系数据库

### 相关定义

1. **域**

&emsp;&emsp;域是**一组具有相同数据类型的值的集合**。例如：所有整数。

2. **笛卡尔积**

&emsp;&emsp;给定一组域$D_1,D_2,...,D_n$,允许某些域相同，则$D_1,D_2,...,D_n$的笛卡尔积表示为：

$$
    D_1×D_2×……×D_n = \{ (d_1,d_2, ... ,d_n) | d_i∈D_i,i=1,2,...,n\}
$$

&emsp;&emsp;其中每一个元素$(d_1,d_2,...,d_n)$称为一个$n$元组，元组中每一个值$d_i$称为一个分量。

3. **基数**

&emsp;&emsp;一个域允许的不同取值个数称为这个域的基数。

### 关系定义

1. **关系**
   
&emsp;&emsp;**$D_1×D_2×...×D_n$的子集叫做在域$D_1,D_2,...,D_n$上的关系，表示为$R(D_1,D_2,...,D_n)$**。其中，$R$为关系名,$n$为度或目。

2. **元组**

&emsp;&emsp;关系中的每个元素$(d_1,d_2,...,d_n)$叫做一个$n$元组,用$t$表示。

3. **属性**
   
&emsp;&emsp;关系中不同列可以对应相同的域。为了区分，必须对每列命名，该名字称为属性。$n$目关系必有$n$个属性。

4. **码**：

- 候选码：若关系中的某一属性组的值能够唯一地标识一个元组，则称该属性组为候选码。最简单情况下，候选码只包含一个属性。
- 全码: 在极端情况下，关系模式地所有属性组是这个关系模式地候选码，此时称为全码。

### 关系性质

- 列是同质的
- 不同的列可出自同一个域
- 列的顺序无所谓，列的次序可以任意交换
- 任意两个元组的候选码不能相同
- 行的顺序无所谓，可以任意交换
- 分量必须取原子值，**这是关系规则中最基本的一条**。

## 关系模式

&emsp;&emsp;**关系模式是型，而关系是值**。关系模式包括了元组集合的结构，完整性约束条件的对关系的描述。

&emsp;&emsp;关系模式可以形式化表示为：
$$
    R(U,D,DOM,F)
$$
&emsp;&emsp;其中,$R$为关系名,$U$为组成该关系属性名集合，$D$表示$U$中属性所来自的域，$DOM$表示属性向域的映像集合，$F$表示属性间数据的依赖关系的集合。

&emsp;&emsp;关系模式的形式化表示过于复杂，因此我们可以简化为：
$$
    R(U) 或 R(A_1,A_2,...,A_n)
$$
&emsp;&emsp;其中，$R$为关系名，$A_1,A_2,...,A_n$表示属性名。

### 关系与关系模式之间的关系

- 关系模式是对关系的描述，它是静态的、稳定的。
- 关系是关系模式在某一时刻的状态或内容，它是动态的、随时间不断变化的。
- 关系模式与关系往往统称为关系。

## 关系数据库

&emsp;&emsp;关系数据库是在一个给定的应用领域中，所有关系的集合构成一个关系数据库。

&emsp;&emsp;在关系数据库中：
- 关系数据库的型：是关系数据库模式，是对关系数据库的描述。
- 关系数据库的值：是关系模式在某一时刻对应的关系的集合，通常称为关系数据库。